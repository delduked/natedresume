apiVersion: v1
kind: Secret
metadata:
  name: natedca
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlFbkRDQ0E0U2dBd0lCQWdJVUQvMWRqdXI4bWNnRUJDRi91YXZVNUFLUDZ4a3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3Z1lzeEN6QUpCZ05WQkFZVEFsVlRNUmt3RndZRFZRUUtFeEJEYkc5MVpFWnNZWEpsTENCSmJtTXVNVFF3DQpNZ1lEVlFRTEV5dERiRzkxWkVac1lYSmxJRTl5YVdkcGJpQlRVMHdnUTJWeWRHbG1hV05oZEdVZ1FYVjBhRzl5DQphWFI1TVJZd0ZBWURWUVFIRXcxVFlXNGdSbkpoYm1OcGMyTnZNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoDQpNQjRYRFRJeU1EVXdNVEUzTkRnd01Gb1hEVE0zTURReU56RTNORGd3TUZvd1lqRVpNQmNHQTFVRUNoTVFRMnh2DQpkV1JHYkdGeVpTd2dTVzVqTGpFZE1Cc0dBMVVFQ3hNVVEyeHZkV1JHYkdGeVpTQlBjbWxuYVc0Z1EwRXhKakFrDQpCZ05WQkFNVEhVTnNiM1ZrUm14aGNtVWdUM0pwWjJsdUlFTmxjblJwWm1sallYUmxNSUlCSWpBTkJna3Foa2lHDQo5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBN3d5elQreEduY0I1SE9aYk9JazFzMXkrNUxIaVV4bk83am10DQp0OUlBVXZhc21mblpuR1dWTVRkNm9lb3pPbjkrNTNOMm1OcW9EK1BLRkN0UFdQWnBySXcxeDgyZE9IM2pFWitNDQptcGp1MnhWNE1OUTJmTi9ORWRZNXZKYkFuOW12bHdQUTgxMUYyK0VCbWJ2eENKMU5HN2FJU1Q1TVM3dDRnT3V1DQorcDZnbDQrUlhDeHc5MmVDTEF1cTVDSE53TEVmZExjNjVyQ2E3QlpPWTlESWlMbHB6SUFpTHpBSEIvYURwaWNTDQpONnRyOFNLQ09jdVZsZmdFcmhiQXl5ZitXZk9pcmRiQkRvUGJVYnZmTkR2cTNxWXA2ejNlbmJ2NXBJQ1hyT0lGDQpRaDZzQmszMmpmMHkzNkQ0UzZGRzUyMnB3c3pVb1pZMXZKQ0hJczB3UEg4NlNHZHpFUUlEQVFBQm80SUJIakNDDQpBUm93RGdZRFZSMFBBUUgvQkFRREFnV2dNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEDQpBVEFNQmdOVkhSTUJBZjhFQWpBQU1CMEdBMVVkRGdRV0JCVGpLUzczOHlRTkZIWnI0U1o5RytoN3M5NWgzREFmDQpCZ05WSFNNRUdEQVdnQlFrNkZOWFhYdzBRSWVwNjVUYnV1RVdlUHdwcERCQUJnZ3JCZ0VGQlFjQkFRUTBNREl3DQpNQVlJS3dZQkJRVUhNQUdHSkdoMGRIQTZMeTl2WTNOd0xtTnNiM1ZrWm14aGNtVXVZMjl0TDI5eWFXZHBibDlqDQpZVEFmQmdOVkhSRUVHREFXZ2dvcUxtNWhkR1ZrTG1OaGdnaHVZWFJsWkM1allUQTRCZ05WSFI4RU1UQXZNQzJnDQpLNkFwaGlkb2RIUndPaTh2WTNKc0xtTnNiM1ZrWm14aGNtVXVZMjl0TDI5eWFXZHBibDlqWVM1amNtd3dEUVlKDQpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCa3hZcHJreUhXVysrRkdXWDJWbTlPQWx2WUVTbVpJWEpMS0k2Z3kwaEFFDQpyYWNZMldSNm9YVDVBbU80Vi9Db2JpTUw0eHEvRG40aS9TUk9PZFVUOXEzK0xQTzllNXhuam1sRXJoYVNmOTBBDQpLbGNEYm1ORFVXS3N6dzV3KzFzakhObjJTTXFnQjE2bGFMZVNSUi96UmlyWmhWejRrdExWOXBvNkJNK0VWbWFPDQpvdVlFdk1aYmVaUmttMzcrbTEzTDNPTVZHano3Wi9PclpzZU9LbUFOdVhybXRhZkduNnl5clRRSlNsNHdBeTZaDQp4a010NVBHcEhRZzdKS0VTQm1QeWFjelpxNFEzSnp2dFFod1h5OEpnMG15YzNyVGtpRmtaV2paaWRwbkxhZDJzDQpDQXhNQVNmY01sQllTZ1NkcWlkYlVNMWV4NW1YZ21OYXdpTXh4S1NBeENrPQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdndJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLa3dnZ1NsQWdFQUFvSUJBUUR2RExOUDdFYWR3SGtjDQo1bHM0aVRXelhMN2tzZUpUR2M3dU9hMjMwZ0JTOXF5WitkbWNaWlV4TjNxaDZqTTZmMzduYzNhWTJxZ1A0OG9VDQpLMDlZOW1tc2pEWEh6WjA0ZmVNUm40eWFtTzdiRlhndzFEWjgzODBSMWptOGxzQ2YyYStYQTlEelhVWGI0UUdaDQp1L0VJblUwYnRvaEpQa3hMdTNpQTY2NzZucUNYajVGY0xIRDNaNElzQzZya0ljM0FzUjkwdHpybXNKcnNGazVqDQowTWlJdVduTWdDSXZNQWNIOW9PbUp4STNxMnZ4SW9JNXk1V1YrQVN1RnNETEovNVo4Nkt0MXNFT2c5dFJ1OTgwDQpPK3JlcGluclBkNmR1L21rZ0plczRnVkNIcXdHVGZhTi9UTGZvUGhMb1VibmJhbkN6TlNobGpXOGtJY2l6VEE4DQpmenBJWjNNUkFnTUJBQUVDZ2dFQUFJT3BleG1LQ1ZyWnA5dERCUHNlbDNVeW4vRldDRkc4NVR4UWlGMjJUSGRsDQpaYXRvOFhJeWdQbWFsUENaRFo0cW1ycmYzWEpTL0QzRU9JampVZEN0NTRZaHMzMVl3ajliRnJXZUt0TDdhSk5DDQpQL0NrOFYzVjVoenM0Ti8rS0JuaXk5TmhSclREcXJad04zRjFFa3lzVnN2c3ZTT2FMR3VKMWRVcitqUVBLbVJPDQpuajFsUDhxQ1p0Y0d0OUF2cDBSNUFMYldKQVBMN2pnUmRmY1cvb2p2UTZxSCtHUUV6dzh1eHI1WUJGY09oMDF2DQpjQ29BK0c5c080VVJ3MXRFcUtEQXordjFVZWh5MWVFSGZLRnAwc1JDK1UvUWIweUNCNjFnVlp5ZUthM3B2M3hFDQpzM3V5dFNFdlBzdzZtTDFQRlBHRmlhTDRKOC9LcFhPMnV1Q0plbDBwbFFLQmdRRDVqNElSbDBUT3h6M0FFNGZWDQpyeFYyeG8rSkE3TEloRzByMnZGdVV6N294Y2pIUTh0NGZIOE14Z1pBQjF4T3c0SDJLVmIxOXBmakE4Ym16WG1kDQptUUszQ05VN2ZzVGcwNzJZZ08rekhVSHBpSm5uaFc0WlJWdm1mZVowUzExQUFDUll0TGVVeUIxNUp2MEc0RDZ5DQpsbUFWTGdLY3ZUWHIzS1dtMk5DUFNVS2ZSd0tCZ1FEMU44TG5OUC9hcytuMEx5L1JIaGFoRkI3aFhNQXd5YlNjDQpIcEZhNCtmT0FhUUxMTVk4czJ6ZWY2N2ZlTXloRUtTbU5jZmxva3J5a0ZocWQwVUxtK0dZdDVRbGs4d25TWllmDQpYL1lQZkQ2WVR3MjYrWXNDaUNvZUpDei9MUlg2dTdGeXVhNlRndFNFbnozY09qRWJCd1Jpa1lWelJIRmd1NFBODQpUem5USHFsMjV3S0JnUURmSlJyQWIrbnVtdWowSG9LTzV3YmlOWm1TZ2VRU3Q1YUdhRGNJMXhhaFBIalM5Q096DQprRjVxSlliaEtiTzRHY2pUT3hPdXl0ZjAvU09VckpYWi9UOFlPcVd2bFNLbGhhODU5ZEJlOEFKSHR3VW1wNEJTDQp5Rm5zTnhjaFZXSUVJQnhmMVBkeDZaMncvdE93bWtKMW5WQThuKzltQnlsM3hNdTU3SlJRQ3NtdmNRS0JnUUMzDQpyTUhIcnhJcC9mTXluUm1pK0hlWXhkcHZrYXEvb0lZeEhsQmdGUyt2UmRsYktYbC9SQ0k2OHNiSXl0SHpudVRGDQpQcWx4WHNQbXRxb1RiUzBCaWd4TCtNMzE2NlBTbGJMbDQxb0t0VlNwZnlWWXRNd2o1Rnd2NFliMnlBMmJsblZPDQo2cmhSODRBOXFvMktaT2dkUjM5SVdabnRBZ291bTZZWTVjdjVVQkU5WndLQmdRQ25QaWNUY0piUjdmU3pOZVFHDQpCRTFESkxqQUxHa3lmQ2NEVFhyTTFxTzk4Y3RGcU5kTjJvWEJGSWZzcWZRQTY1MkoxeldhcWRiSDBpaUp1RnRlDQpHdmFzSzUzMTFDdFlWeENTNVFzUHBMMi9YYngybFE2dzZRVmtpVFVrakRHa2pKZEN6R0tzVVA1T3l1dUhNRU5ZDQozYjh3TkozbWNvUGkzOFZUcklxNVRybmhzdz09DQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tDQo=
---
apiVersion: v1
kind: Secret
metadata:
  name: ghcr.io-secret
data:
  .dockerconfigjson: eyJhdXRocyI6eyJnaGNyLmlvIjp7ImF1dGgiOiJaR1ZzWkhWclpXUTZaMmh3WDNaRlZUWjNUM3BTZEdwRGFXUnhaVlpPUmpGNWRVbFZaazEyVERsRFRqUk1TMGR0ZGc9PSJ9fX0=
type: kubernetes.io/dockerconfigjson
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: natedca
spec:
  tls:
    - hosts:
        - nated.ca
      secretName: natedca
  rules:
    - host: nated.ca
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: natedca
                port:
                  number: 8080

---
apiVersion: v1
kind: Service
metadata:
  name: natedca
spec:
  type: ClusterIP
  selector:
    app: natedca
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: natedca
spec:
  replicas: 1
  selector:
    matchLabels:
      app: natedca
  template:
    metadata:
      labels:
        app: natedca
    spec:
      containers:
        - name: natedca
          #image: ghcr.io/delduked/natedresume:latest
          image: ghcr.io/delduked/natedresume:v_d27209a
          imagePullPolicy: Always
          ports:
            - containerPort: 8080
          resources:
            limits:
              cpu: "0.5"
              memory: "500Mi"
            requests:
              cpu: "0.25"
              memory: "200Mi"
      imagePullSecrets:
        - name: ghcr.io-secret

